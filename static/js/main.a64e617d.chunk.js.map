{"version":3,"sources":["components/Header/Header.jsx","components/RateList/RateList.jsx","api/api.js","redux/currencies-reducer.js","components/RateList/RateListContainer.jsx","redux/convertor-reducer.js","components/Convertor/Convertor.jsx","utils/convertion.js","components/Convertor/ConvertorContainer.jsx","App.js","serviceWorker.js","redux/store.js","index.js"],"names":["Header","props","className","styles","header","Navbar","collapseOnSelect","expand","bg","variant","to","Brand","Toggle","aria-controls","Collapse","id","Nav","RateList","currenciesSpread","currencies","map","currency","key","CharCode","Nominal","Name","Value","Previous","toFixed","favoriteCurrencies","some","cur","ID","Button","size","onClick","removeFavoriteCurrency","addFavoriteCurrency","lastUpdate","Table","striped","bordered","hover","length","colSpan","currenciesAPI","axios","initialState","currenciesReducer","state","action","type","date","filter","c","compose","connect","getCurrencies","dispatch","then","response","Date","data","Timestamp","toLocaleString","Object","values","Valute","setLastUpdate","useEffect","convertorReducer","Convertor","currenciesElement","onInputChange","onOptionChangeFrom","onOptionChangeTo","inputCurrency","outputCurrency","isCurrencyFromSelected","isCurrencyToSelected","Jumbotron","Container","Row","Col","Form","Group","Label","Control","as","onChange","defaultValue","disabled","min","value","readOnly","findConvertedCurrency","curFromNumber","currencyRateTo","currencyRateFrom","findCurrency","allCurrencies","curName","find","convertor","getConvertorList","useState","setInputCurrency","setOutputCurrency","currencyFrom","setCurrencyFrom","currencyTo","setCurrencyTo","setIsCurrencyFromSelected","setIsCurrencyToSelected","console","log","e","currentTarget","curFromName","curToName","currenciesList","toConvert","App","exact","path","render","Boolean","window","location","hostname","match","reducers","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","localStorage","getItem","JSON","parse","reHydrateStore","applyMiddleware","thunkMiddleware","getState","next","result","setItem","stringify","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.a64e617d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styles from \"./Header.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={styles.header}>\r\n      <Navbar collapseOnSelect expand=\"lg\" bg=\"light\" variant=\"light\">\r\n        {/* <Navbar.Brand href=\"/ratelist\">RATES&CONVERT</Navbar.Brand> */}\r\n        <NavLink className=\"nav-link\" to=\"/ratelist\">\r\n          <Navbar.Brand>RATES&CONVERT</Navbar.Brand>\r\n        </NavLink>\r\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n          <Nav className=\"mx-auto font-weight-bold\">\r\n            <NavLink className=\"nav-link\" to=\"/convertor\">\r\n              CONVERTOR\r\n            </NavLink>\r\n            <NavLink className=\"nav-link\" to=\"/ratelist\">\r\n              EXCHANGE RATES\r\n            </NavLink>\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { Table, Button } from \"react-bootstrap\";\r\n\r\nconst RateList = (props) => {\r\n\r\n  let currenciesSpread = props.currencies.map((currency) => (\r\n    <tr key={currency.CharCode}>\r\n      <td>{currency.Nominal}</td>\r\n      <td>{currency.Name}</td>\r\n      <td>{currency.Value}</td>\r\n      <td>({(currency.Value - currency.Previous).toFixed(1)})</td>\r\n      <td>\r\n        {props.favoriteCurrencies.some((cur) => cur.ID === currency.ID) ? (\r\n          <Button size=\"sm\" variant=\"danger\" onClick={() => props.removeFavoriteCurrency(currency)}>\r\n            удалить\r\n          </Button>\r\n        ) : (\r\n          <Button size=\"sm\" variant=\"success\" onClick={() => props.addFavoriteCurrency(currency)}>добавить</Button>\r\n        )}\r\n      </td>\r\n    </tr>\r\n  ));\r\n\r\n  let favoriteCurrencies = props.favoriteCurrencies.map((currency) => {\r\n    return (\r\n      <tr key={currency.CharCode}>\r\n        <td>{currency.Nominal}</td>\r\n        <td>{currency.Name}</td>\r\n        <td>{currency.Value}</td>\r\n        <td>({(currency.Value - currency.Previous).toFixed(1)})</td>\r\n      </tr>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <h4 className=\"mt-3 text-uppercase text-center\">КУРС ЦБ РФ</h4>\r\n      <h5><center>Избранные валюты</center></h5>\r\n      <div>Последнее обновление: {props.lastUpdate}</div>\r\n      <Table  size=\"sm\" striped bordered hover variant=\"light\" className=\"text-center\">\r\n        <thead className=\"text-center\">\r\n        \r\n          <tr>\r\n            <th>Единиц</th>\r\n            <th>Валюта</th>\r\n            <th>Курс</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{favoriteCurrencies.length > 0 ? favoriteCurrencies : <tr><td colSpan=\"4\">Список избранных валют пуст</td></tr>}</tbody>\r\n      </Table>\r\n      <h5><center>Список валют</center></h5>\r\n      <Table size=\"sm\" striped bordered hover variant=\"light\" className=\"text-center\">\r\n        <thead>\r\n          <tr>\r\n            <th>Единиц</th>\r\n            <th>Валюта</th>\r\n            <th>Курс</th>\r\n            <th></th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{currenciesSpread}</tbody>\r\n      </Table>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RateList;\r\n","import * as axios from \"axios\";\r\n\r\nexport const currenciesAPI = {\r\n  getAvaibleCurrencies() {\r\n    return axios.get(\"https://www.cbr-xml-daily.ru/daily_json.js\")\r\n  }\r\n};\r\n\r\n","import { currenciesAPI } from \"../api/api\";\r\n\r\nconst SET_CURRENCIES = \"SET_CURRENCIES\";\r\nconst SET_LAST_UPDATE = \"SET_LAST_UPDATE\";\r\nconst ADD_FAVORITE_CURRENCY = \"ADD_FAVORITE_CURRENCY\";\r\nconst REMOVE_FAVORITE_CURRENCY = \"REMOVE_FAVORITE_CURRENCY\";\r\n\r\nlet initialState = {\r\n  currencies: [],\r\n  lastUpdate: \"\",\r\n  favoriteCurrencies: [],\r\n};\r\n\r\nconst currenciesReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_CURRENCIES:\r\n      return { ...state, currencies: action.currencies };\r\n      // return { ...state, currencies: Object.values([...action.currencies, ...state.currencies].reduce((acc, n) => (!acc[n.ID] && (acc[n.ID] = n), acc), {})) };\r\n    case SET_LAST_UPDATE:\r\n      return { ...state, lastUpdate: action.date };\r\n    case ADD_FAVORITE_CURRENCY:\r\n      return {\r\n        ...state,\r\n        favoriteCurrencies: [...state.favoriteCurrencies, action.currency],\r\n      };\r\n    case REMOVE_FAVORITE_CURRENCY:\r\n      return {\r\n        ...state,\r\n        favoriteCurrencies: state.favoriteCurrencies.filter((c) => c.ID !== action.currency.ID),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setCurrencies = (currencies) => ({ type: SET_CURRENCIES, currencies });\r\nexport const setLastUpdate = (date) => ({ type: SET_LAST_UPDATE, date });\r\nexport const addFavoriteCurrency = (currency) => ({ type: ADD_FAVORITE_CURRENCY, currency });\r\nexport const removeFavoriteCurrency = (currency) => ({ type: REMOVE_FAVORITE_CURRENCY, currency });\r\n\r\nexport const getCurrencies = () => (dispatch) => {\r\n  currenciesAPI.getAvaibleCurrencies().then((response) => {\r\n    let date = new Date(response.data.Timestamp).toLocaleString();\r\n    dispatch(setCurrencies(Object.values(response.data.Valute)));\r\n    dispatch(setLastUpdate(date));\r\n  });\r\n};\r\n// export const getCurrencies = () => async (dispatch) => {\r\n//   let response = await currenciesAPI.getAvaibleCurrencies()\r\n//     let date = new Date(response.data.Timestamp).toLocaleString();\r\n//     dispatch(setCurrencies(Object.values(response.data.Valute)));\r\n//     dispatch(setLastUpdate(date));\r\n// };\r\n\r\nexport default currenciesReducer;\r\n","import React, { useEffect } from \"react\";\r\nimport { compose } from \"redux\";\r\nimport RateList from \"./RateList\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  getCurrencies,\r\n  addFavoriteCurrency,\r\n  removeFavoriteCurrency,\r\n} from \"../../redux/currencies-reducer\";\r\n\r\nconst RateListContainer = ({getCurrencies, ...props}) => {\r\n  \r\n  useEffect(() =>  getCurrencies(), [getCurrencies]);\r\n\r\n\r\n  return <RateList {...props} />;\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    currencies: state.currencies.currencies,\r\n    lastUpdate: state.currencies.lastUpdate,\r\n    favoriteCurrencies: state.currencies.favoriteCurrencies,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getCurrencies, addFavoriteCurrency, removeFavoriteCurrency })(\r\n    RateListContainer\r\n  )\r\n);\r\n","import { currenciesAPI } from \"../api/api\";\r\n\r\nconst SET_CONVERTOR_LIST = \"SET_CONVERTOR_LIST\";\r\n\r\n\r\nlet initialState = {\r\n  currencies: []\r\n};\r\n\r\nconst convertorReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_CONVERTOR_LIST:\r\n      return { ...state, currencies: action.currencies };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setConvertorList = (currencies) => ({ type: SET_CONVERTOR_LIST, currencies });\r\n\r\nexport const getConvertorList = () => (dispatch) => {\r\n  currenciesAPI.getAvaibleCurrencies().then((response) => {\r\n    dispatch(setConvertorList(Object.values(response.data.Valute)));\r\n  });\r\n};\r\n\r\nexport default convertorReducer;\r\n","import React from \"react\";\r\nimport { Jumbotron, Form, Container, Row, Col } from \"react-bootstrap\";\r\n\r\nconst Convertor = ({\r\n  currenciesElement,\r\n  onInputChange,\r\n  onOptionChangeFrom,\r\n  onOptionChangeTo,\r\n  inputCurrency,\r\n  outputCurrency,\r\n  isCurrencyFromSelected,\r\n  isCurrencyToSelected,\r\n}) => {\r\n\r\n  return (\r\n    <Jumbotron>\r\n      <Container>\r\n        <Row>\r\n          <Col>\r\n            <Form>\r\n              <Form.Group>\r\n                <Form.Label>\r\n                  <h3>FROM</h3>\r\n                </Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  onChange={onOptionChangeFrom}\r\n                  defaultValue=\"Выберите валюту\"\r\n                >\r\n                  <option disabled>Выберите валюту</option>\r\n                  <option>Российский Рубль</option>\r\n                  {currenciesElement}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Control\r\n                  as=\"input\"\r\n                  type=\"number\"\r\n                  disabled={!(isCurrencyFromSelected && isCurrencyToSelected)}\r\n                  min=\"0\"\r\n                  value={inputCurrency}\r\n                  onChange={onInputChange}\r\n                />\r\n              </Form.Group>\r\n            </Form>\r\n          </Col>\r\n          <Col>\r\n            <Form>\r\n              <Form.Group>\r\n                <Form.Label>\r\n                  <h3>TO</h3>\r\n                </Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  onChange={onOptionChangeTo}\r\n                  defaultValue=\"Выберите валюту\"\r\n                >\r\n                  <option disabled>Выберите валюту</option>\r\n                  <option>Российский Рубль</option>\r\n                  {currenciesElement}\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Control as=\"input\" value={outputCurrency} disabled={true} readOnly />\r\n              </Form.Group>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </Jumbotron>\r\n  );\r\n};\r\n\r\nexport default Convertor;\r\n","export const toConvert = (curFromName, curToName, curFromNumber, currenciesList) => {\r\n  \r\n  let curToNumber;\r\n\r\n  if (curFromName === \"Российский Рубль\") {\r\n    curToNumber = (curFromNumber / findCurrency(currenciesList, curToName).Value) * findCurrency(currenciesList, curToName).Nominal;\r\n    return curToNumber.toFixed(2);\r\n  } else if (curToName === \"Российский Рубль\") {\r\n    curToNumber = (curFromNumber * findCurrency(currenciesList, curFromName).Value) / findCurrency(currenciesList, curFromName).Nominal;\r\n    return curToNumber.toFixed(2);\r\n  }\r\n  \r\n  let currencyRateFrom = findCurrency(currenciesList, curFromName).Value / findCurrency(currenciesList, curFromName).Nominal;\r\n  let currencyRateTo = findCurrency(currenciesList, curToName).Value / findCurrency(currenciesList, curToName).Nominal;\r\n\r\n  curToNumber = findConvertedCurrency(curFromNumber, currencyRateTo, currencyRateFrom)\r\n\r\n  return curToNumber;\r\n};\r\n\r\n\r\n\r\nconst findConvertedCurrency = (curFromNumber, currencyRateTo, currencyRateFrom) => {\r\n  let convertedCurrency = curFromNumber / (currencyRateTo / currencyRateFrom)\r\n  return convertedCurrency.toFixed(2)\r\n}\r\n\r\nconst findCurrency = (allCurrencies, curName) => {\r\n  let currency = allCurrencies.find(c => c.Name === curName)\r\n  return currency\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { getConvertorList } from \"../../redux/convertor-reducer\";\r\nimport Convertor from \"./Convertor\";\r\nimport { toConvert } from \"../../utils/convertion\";\r\n\r\nconst ConvertorContainer = ({ currencies, getConvertorList }) => {\r\n\r\n  let [inputCurrency, setInputCurrency] = useState(0);\r\n  let [outputCurrency, setOutputCurrency] = useState(0);\r\n  let [currencyFrom, setCurrencyFrom] = useState(\"\");\r\n  let [currencyTo, setCurrencyTo] = useState(\"\");\r\n  let [isCurrencyFromSelected, setIsCurrencyFromSelected] = useState(false);\r\n  let [isCurrencyToSelected, setIsCurrencyToSelected] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getConvertorList();\r\n  }, [getConvertorList]);\r\n\r\n  console.log(\"convertor container\");\r\n\r\n  const onInputChange = (e) => {\r\n    setInputCurrency(e.currentTarget.value);\r\n    setOutputCurrency(toConvert(currencyFrom, currencyTo, e.currentTarget.value, currencies));\r\n  };\r\n\r\n  const onOptionChangeFrom = (e) => {\r\n    setIsCurrencyFromSelected(true);\r\n    setInputCurrency(0);\r\n    setOutputCurrency(0);\r\n    setCurrencyFrom(e.currentTarget.value);\r\n  };\r\n\r\n  const onOptionChangeTo = (e) => {\r\n    setIsCurrencyToSelected(true);\r\n    setInputCurrency(0);\r\n    setOutputCurrency(0);\r\n    setCurrencyTo(e.currentTarget.value);\r\n  };\r\n\r\n  let currenciesElement = currencies.map((currency) => (\r\n    <option key={currency.CharCode}>{currency.Name}</option>\r\n  ));\r\n  return (\r\n    <Convertor\r\n      currenciesElement={currenciesElement}\r\n      onInputChange={onInputChange}\r\n      onOptionChangeFrom={onOptionChangeFrom}\r\n      onOptionChangeTo={onOptionChangeTo}\r\n      inputCurrency={inputCurrency}\r\n      outputCurrency={outputCurrency}\r\n      isCurrencyFromSelected={isCurrencyFromSelected}\r\n      isCurrencyToSelected={isCurrencyToSelected}\r\n      \r\n    />\r\n  );\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    currencies: state.convertor.currencies,\r\n  };\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, { getConvertorList })(ConvertorContainer));\r\n","import React from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport \"./App.css\";\nimport Header from \"./components/Header/Header\";\nimport RateListContainer from \"./components/RateList/RateListContainer\";\nimport ConvertorContainer from \"./components/Convertor/ConvertorContainer\";\nimport { Container, Jumbotron } from \"react-bootstrap\";\n\nconst App = (props) => {\n  return (\n    <Container>\n      <Header />\n      <Jumbotron>\n        <Switch>\n          <Route exact path=\"/\" render={() => <Redirect to={\"/ratelist\"}/> } />\n          <Route path=\"/convertor\" render={() => <ConvertorContainer />} />\n          <Route path=\"/ratelist\" render={() => <RateListContainer />} />\n          <Route path='*'render={() => <div>404 NOT FOUND</div>}/>\n        </Switch>\n      </Jumbotron>\n    </Container>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { combineReducers, createStore, applyMiddleware, compose } from \"redux\";\r\nimport currenciesReducer from \"./currencies-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport convertorReducer from \"./convertor-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n  currencies: currenciesReducer,\r\n  convertor: convertorReducer\r\n});\r\n\r\nconst localStorageMiddleware = ({ getState }) => {\r\n  return (next) => (action) => {\r\n    const result = next(action);\r\n    localStorage.setItem(\"applicationState\", JSON.stringify(getState()));\r\n    return result;\r\n  };\r\n};\r\n\r\nconst reHydrateStore = () => {\r\n\r\n  if (localStorage.getItem(\"applicationState\") !== null) {\r\n    return JSON.parse(localStorage.getItem(\"applicationState\")); // re-hydrate the store\r\n  }\r\n};\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  reHydrateStore(),\r\n  composeEnhancers(applyMiddleware(thunkMiddleware, \r\n    localStorageMiddleware\r\n    ))\r\n);\r\nwindow.store = store;\r\n\r\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { HashRouter } from \"react-router-dom\";\nimport store from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}