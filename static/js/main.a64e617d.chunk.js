(this["webpackJsonpmoney-convertor"]=this["webpackJsonpmoney-convertor"]||[]).push([[0],{49:function(e,t,n){},62:function(e,t,n){e.exports=n(92)},67:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(18),c=n.n(l),u=n(13),o=(n(67),n(49)),i=n.n(o),m=n(15),s=n(100),E=n(101),d=function(e){return r.a.createElement("header",{className:i.a.header},r.a.createElement(s.a,{collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light"},r.a.createElement(m.b,{className:"nav-link",to:"/ratelist"},r.a.createElement(s.a.Brand,null,"RATES&CONVERT")),r.a.createElement(s.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(s.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(E.a,{className:"mx-auto font-weight-bold"},r.a.createElement(m.b,{className:"nav-link",to:"/convertor"},"CONVERTOR"),r.a.createElement(m.b,{className:"nav-link",to:"/ratelist"},"EXCHANGE RATES")))))},f=n(61),v=n(9),p=n(94),C=n(95),h=function(e){var t=e.currencies.map((function(t){return r.a.createElement("tr",{key:t.CharCode},r.a.createElement("td",null,t.Nominal),r.a.createElement("td",null,t.Name),r.a.createElement("td",null,t.Value),r.a.createElement("td",null,"(",(t.Value-t.Previous).toFixed(1),")"),r.a.createElement("td",null,e.favoriteCurrencies.some((function(e){return e.ID===t.ID}))?r.a.createElement(p.a,{size:"sm",variant:"danger",onClick:function(){return e.removeFavoriteCurrency(t)}},"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"):r.a.createElement(p.a,{size:"sm",variant:"success",onClick:function(){return e.addFavoriteCurrency(t)}},"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))})),n=e.favoriteCurrencies.map((function(e){return r.a.createElement("tr",{key:e.CharCode},r.a.createElement("td",null,e.Nominal),r.a.createElement("td",null,e.Name),r.a.createElement("td",null,e.Value),r.a.createElement("td",null,"(",(e.Value-e.Previous).toFixed(1),")"))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"mt-3 text-uppercase text-center"},"\u041a\u0423\u0420\u0421 \u0426\u0411 \u0420\u0424"),r.a.createElement("h5",null,r.a.createElement("center",null,"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0432\u0430\u043b\u044e\u0442\u044b")),r.a.createElement("div",null,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435: ",e.lastUpdate),r.a.createElement(C.a,{size:"sm",striped:!0,bordered:!0,hover:!0,variant:"light",className:"text-center"},r.a.createElement("thead",{className:"text-center"},r.a.createElement("tr",null,r.a.createElement("th",null,"\u0415\u0434\u0438\u043d\u0438\u0446"),r.a.createElement("th",null,"\u0412\u0430\u043b\u044e\u0442\u0430"),r.a.createElement("th",null,"\u041a\u0443\u0440\u0441"),r.a.createElement("th",null))),r.a.createElement("tbody",null,n.length>0?n:r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"4"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0432\u0430\u043b\u044e\u0442 \u043f\u0443\u0441\u0442")))),r.a.createElement("h5",null,r.a.createElement("center",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0430\u043b\u044e\u0442")),r.a.createElement(C.a,{size:"sm",striped:!0,bordered:!0,hover:!0,variant:"light",className:"text-center"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u0415\u0434\u0438\u043d\u0438\u0446"),r.a.createElement("th",null,"\u0412\u0430\u043b\u044e\u0442\u0430"),r.a.createElement("th",null,"\u041a\u0443\u0440\u0441"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,t)))},O=n(19),b=n(60),g=n(16),S=n(57),y=function(){return S.get("https://www.cbr-xml-daily.ru/daily_json.js")},N={currencies:[],lastUpdate:"",favoriteCurrencies:[]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENCIES":return Object(g.a)({},e,{currencies:t.currencies});case"SET_LAST_UPDATE":return Object(g.a)({},e,{lastUpdate:t.date});case"ADD_FAVORITE_CURRENCY":return Object(g.a)({},e,{favoriteCurrencies:[].concat(Object(b.a)(e.favoriteCurrencies),[t.currency])});case"REMOVE_FAVORITE_CURRENCY":return Object(g.a)({},e,{favoriteCurrencies:e.favoriteCurrencies.filter((function(e){return e.ID!==t.currency.ID}))});default:return e}},j=Object(v.d)(Object(O.b)((function(e){return{currencies:e.currencies.currencies,lastUpdate:e.currencies.lastUpdate,favoriteCurrencies:e.currencies.favoriteCurrencies}}),{getCurrencies:function(){return function(e){y().then((function(t){var n=new Date(t.data.Timestamp).toLocaleString();e({type:"SET_CURRENCIES",currencies:Object.values(t.data.Valute)}),e(function(e){return{type:"SET_LAST_UPDATE",date:e}}(n))}))}},addFavoriteCurrency:function(e){return{type:"ADD_FAVORITE_CURRENCY",currency:e}},removeFavoriteCurrency:function(e){return{type:"REMOVE_FAVORITE_CURRENCY",currency:e}}})((function(e){var t=e.getCurrencies,n=Object(f.a)(e,["getCurrencies"]);return Object(a.useEffect)((function(){return t()}),[t]),r.a.createElement(h,n)}))),R=n(17),_={currencies:[]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONVERTOR_LIST":return Object(g.a)({},e,{currencies:t.currencies});default:return e}},F=n(96),w=n(97),I=n(98),x=n(58),U=n(99),D=function(e){var t=e.currenciesElement,n=e.onInputChange,a=e.onOptionChangeFrom,l=e.onOptionChangeTo,c=e.inputCurrency,u=e.outputCurrency,o=e.isCurrencyFromSelected,i=e.isCurrencyToSelected;return r.a.createElement(F.a,null,r.a.createElement(w.a,null,r.a.createElement(I.a,null,r.a.createElement(x.a,null,r.a.createElement(U.a,null,r.a.createElement(U.a.Group,null,r.a.createElement(U.a.Label,null,r.a.createElement("h3",null,"FROM")),r.a.createElement(U.a.Control,{as:"select",onChange:a,defaultValue:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443"},r.a.createElement("option",{disabled:!0},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443"),r.a.createElement("option",null,"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0420\u0443\u0431\u043b\u044c"),t)),r.a.createElement(U.a.Group,null,r.a.createElement(U.a.Control,{as:"input",type:"number",disabled:!(o&&i),min:"0",value:c,onChange:n})))),r.a.createElement(x.a,null,r.a.createElement(U.a,null,r.a.createElement(U.a.Group,null,r.a.createElement(U.a.Label,null,r.a.createElement("h3",null,"TO")),r.a.createElement(U.a.Control,{as:"select",onChange:l,defaultValue:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443"},r.a.createElement("option",{disabled:!0},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443"),r.a.createElement("option",null,"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0420\u0443\u0431\u043b\u044c"),t)),r.a.createElement(U.a.Group,null,r.a.createElement(U.a.Control,{as:"input",value:u,disabled:!0,readOnly:!0})))))))},A=function(e,t,n){return(e/(t/n)).toFixed(2)},k=function(e,t){return e.find((function(e){return e.Name===t}))},L=Object(v.d)(Object(O.b)((function(e){return{currencies:e.convertor.currencies}}),{getConvertorList:function(){return function(e){y().then((function(t){e({type:"SET_CONVERTOR_LIST",currencies:Object.values(t.data.Valute)})}))}}})((function(e){var t=e.currencies,n=e.getConvertorList,l=Object(a.useState)(0),c=Object(R.a)(l,2),u=c[0],o=c[1],i=Object(a.useState)(0),m=Object(R.a)(i,2),s=m[0],E=m[1],d=Object(a.useState)(""),f=Object(R.a)(d,2),v=f[0],p=f[1],C=Object(a.useState)(""),h=Object(R.a)(C,2),O=h[0],b=h[1],g=Object(a.useState)(!1),S=Object(R.a)(g,2),y=S[0],N=S[1],T=Object(a.useState)(!1),j=Object(R.a)(T,2),_=j[0],V=j[1];Object(a.useEffect)((function(){n()}),[n]),console.log("convertor container");var F=t.map((function(e){return r.a.createElement("option",{key:e.CharCode},e.Name)}));return r.a.createElement(D,{currenciesElement:F,onInputChange:function(e){o(e.currentTarget.value),E(function(e,t,n,a){if("\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0420\u0443\u0431\u043b\u044c"===e)return(n/k(a,t).Value*k(a,t).Nominal).toFixed(2);if("\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0420\u0443\u0431\u043b\u044c"===t)return(n*k(a,e).Value/k(a,e).Nominal).toFixed(2);var r=k(a,e).Value/k(a,e).Nominal,l=k(a,t).Value/k(a,t).Nominal;return A(n,l,r)}(v,O,e.currentTarget.value,t))},onOptionChangeFrom:function(e){N(!0),o(0),E(0),p(e.currentTarget.value)},onOptionChangeTo:function(e){V(!0),o(0),E(0),b(e.currentTarget.value)},inputCurrency:u,outputCurrency:s,isCurrencyFromSelected:y,isCurrencyToSelected:_})}))),G=function(e){return r.a.createElement(w.a,null,r.a.createElement(d,null),r.a.createElement(F.a,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",render:function(){return r.a.createElement(u.a,{to:"/ratelist"})}}),r.a.createElement(u.b,{path:"/convertor",render:function(){return r.a.createElement(L,null)}}),r.a.createElement(u.b,{path:"/ratelist",render:function(){return r.a.createElement(j,null)}}),r.a.createElement(u.b,{path:"*",render:function(){return r.a.createElement("div",null,"404 NOT FOUND")}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=n(59),z=Object(v.c)({currencies:T,convertor:V}),J=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||v.d,M=Object(v.e)(z,function(){if(null!==localStorage.getItem("applicationState"))return JSON.parse(localStorage.getItem("applicationState"))}(),J(Object(v.a)(P.a,(function(e){var t=e.getState;return function(e){return function(n){var a=e(n);return localStorage.setItem("applicationState",JSON.stringify(t())),a}}}))));window.store=M;var Y=M;n(91);c.a.render(r.a.createElement(m.a,null,r.a.createElement(O.a,{store:Y},r.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.a64e617d.chunk.js.map