(this["webpackJsonpmoney-convertor"]=this["webpackJsonpmoney-convertor"]||[]).push([[0],{13:function(e,t,c){e.exports={container:"Table_container__MzJ3Q",table:"Table_table__16xUQ",tableCaption:"Table_tableCaption__2gZ5V",tableBody:"Table_tableBody__3dlMz",tableBodyRow:"Table_tableBodyRow__2cLKm",tableBodyRowCell:"Table_tableBodyRowCell__h0hIK",RowCell:"Table_RowCell__1TyTT"}},14:function(e,t,c){e.exports={Row:"Row_Row__25ASI",RowCell:"Row_RowCell__itvIj"}},19:function(e,t,c){e.exports={card:"ConvertorCard_card__DdT_2",cardFrom:"ConvertorCard_cardFrom__eYwfj",cardTo:"ConvertorCard_cardTo__LBCka",cardBtn:"ConvertorCard_cardBtn__3tYfj"}},45:function(e,t,c){e.exports={header:"Header_header__11mWD"}},46:function(e,t,c){e.exports={container:"App_container__3VDCb"}},79:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(0),a=c(20),o=c(18),i=c(3),s=c(10),l=c(16),u=c.n(l),j=c(21),d=c(40),b=c.n(d).a.create({baseURL:"https://www.cbr-xml-daily.ru/"}),O=function(){return Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("daily_json.js");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()},h="SET_CURRENCIES",f="SET_LOADING_CURRENCIES",v="SET_LAST_UPDATE",x="SET_FAVORITE_CURRENCY",m="REMOVE_FAVORITE_CURRENCY",p=function(e){return{type:h,currencies:e}},C=function(e){return{type:f,isLoading:e}},_=function(e){return{type:v,lastUpdate:e}},y=c(13),N=c.n(y),R=c(11),g=c(14),w=c.n(g),S=function(e,t){var c=Object(r.useState)((e-t).toFixed(3)),n=Object(R.a)(c,1)[0];return n>=0?["+".concat(n),"#00ff00"]:[n,"#ff0000"]},T=function(e){var t=e.currency,c=e.handleClick,r=S(t.Value,t.Previous),a=Object(R.a)(r,2),o=a[0],i=a[1];return Object(n.jsxs)("div",{onClick:c,className:w.a.Row,children:[Object(n.jsx)("div",{className:w.a.RowCell,children:t.CharCode}),Object(n.jsx)("div",{className:w.a.RowCell,children:t.Name}),Object(n.jsx)("div",{className:w.a.RowCell,children:t.Nominal}),Object(n.jsx)("div",{className:w.a.RowCell,children:t.Value}),Object(n.jsx)("div",{className:w.a.RowCell,style:{color:i},children:o})]},t.ID)},E=function(){var e=Object(s.c)((function(e){return e.home})),t=e.currencies,c=e.favoriteCurrencies,r=Object(s.b)(),a=function(e){r(function(e){return{type:x,currency:e}}(e))},o=function(e){r(function(e){return function(t,c){var n=c().home.favoriteCurrencies;delete n[e.CharCode],t({type:m,favoriteCurrencies:n})}}(e))};return Object(n.jsxs)("div",{className:N.a.container,children:[Object(n.jsxs)("div",{className:N.a.table,children:[Object(n.jsxs)("div",{className:N.a.tableCaption,children:["FAVORITE CURRENCIES",Object(n.jsx)("br",{}),"add favorite currencies by click on them"]}),Object(n.jsx)("div",{className:N.a.tableBody,children:Object.keys(c).map((function(e){return Object(n.jsx)(T,{currency:t[e],handleClick:function(){return o(t[e])}},t[e].ID)}))})]}),Object(n.jsxs)("div",{className:N.a.table,children:[Object(n.jsx)("div",{className:N.a.tableCaption,children:"CURRENCIES"}),Object(n.jsx)("div",{className:N.a.tableBody,children:Object.keys(t).filter((function(e){return!(e in c)})).map((function(e){return Object(n.jsx)(T,{currency:t[e],handleClick:function(){return a(t[e])}},t[e].ID)}))})]})]})},I=c(27),L=c.n(I),V=c(41),k=c.n(V);L.a.extend(k.a);var U=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.home})),c=t.currencies,a=t.isLoading,o=t.lastUpdate;return Object(r.useEffect)((function(){e(function(){var e=Object(j.a)(u.a.mark((function e(t){var c,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(C(!0)),e.next=3,O();case 3:c=e.sent,n=c.data.Valute,r=c.data.Date,t(_(r)),t(p(n)),t(C(!1));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{children:Object(n.jsxs)("i",{children:["Last update on ",L()(o).format("LLL")]})}),a?Object(n.jsx)("p",{children:"Loading..."}):Object(n.jsx)(E,{currencies:c})]})},B=c(19),D=c.n(B),F=function(e){var t=e.currencies,c=e.convertedValue,r=e.handleSubmit,a=e.handleSelectChange,o=e.handleInputChange;return console.log(t),Object(n.jsxs)("form",{className:D.a.card,onSubmit:r,children:[Object(n.jsxs)("div",{className:D.a.cardFrom,children:[Object(n.jsxs)("select",{id:"currency-from",defaultValue:"default",onChange:a,children:[Object(n.jsx)("option",{value:"default",disabled:!0,children:"Select your option"}),Object(n.jsx)("option",{value:"1",children:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c"}),Object.keys(t).map((function(e){return Object(n.jsx)("option",{value:t[e].Value/t[e].Nominal,children:t[e].Name},t[e].ID)}))]}),Object(n.jsx)("input",{type:"text",onChange:o})]}),Object(n.jsx)("div",{className:D.a.cardBtn,children:Object(n.jsx)("button",{children:"Convert"})}),Object(n.jsx)("div",{className:D.a.cardTo,children:Object(n.jsxs)("select",{id:"currency-to",defaultValue:"default",onChange:a,children:[Object(n.jsx)("option",{value:"default",disabled:!0,children:"Select your option"}),Object(n.jsx)("option",{value:"1",children:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c"}),Object.keys(t).map((function(e){return Object(n.jsx)("option",{value:t[e].Value/t[e].Nominal,children:t[e].Name},t[e].ID)}))]})}),Object(n.jsx)("p",{children:c})]})},A=function(){var e=Object(r.useState)(0),t=Object(R.a)(e,2),c=t[0],a=t[1],o=Object(r.useState)(0),i=Object(R.a)(o,2),l=i[0],u=i[1],j=Object(r.useState)(1),d=Object(R.a)(j,2),b=d[0],O=d[1],h=Object(r.useState)(""),f=Object(R.a)(h,2),v=f[0],x=f[1],m=Object(s.c)((function(e){return e.home})).currencies;console.log(v);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{children:Object(n.jsx)("i",{children:"Convert rates here"})}),Object(n.jsx)(F,{currencies:m,convertedValue:v,handleSelectChange:function(e){"currency-from"===e.target.id?a(Number(e.target.value)):u(Number(e.target.value))},handleSubmit:function(e){e.preventDefault(),x((c/l*b).toFixed(2))},handleInputChange:function(e){O(Number(e.target.value))}})]})},J=c(12),M=c(42),Y=c(43),z=c.n(Y),H=c(22),K=c(8),P={currencies:{},lastUpdate:"",isLoading:!0,favoriteCurrencies:{}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(K.a)(Object(K.a)({},e),{},{currencies:t.currencies});case f:return Object(K.a)(Object(K.a)({},e),{},{isLoading:t.isLoading});case v:return Object(K.a)(Object(K.a)({},e),{},{lastUpdate:t.lastUpdate});case x:return Object(K.a)(Object(K.a)({},e),{},{favoriteCurrencies:Object(K.a)(Object(K.a)({},e.favoriteCurrencies),{},Object(H.a)({},t.currency.CharCode,t.currency))});case m:return Object(K.a)(Object(K.a)({},e),{},{favoriteCurrencies:t.favoriteCurrencies});default:return e}},W=c(44),G=Object(J.combineReducers)({home:Q}),Z=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),q=Object(J.createStore)(G,Z,Object(J.compose)(Object(J.applyMiddleware)(M.a),Object(W.composeWithDevTools)()));q.subscribe(z()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(c){}}(q.getState())}),1e3));var X=q,$=c(45),ee=c.n($),te=function(){return Object(n.jsx)("div",{className:ee.a.header,children:Object(n.jsx)("nav",{children:Object(n.jsxs)("ul",{children:[Object(n.jsx)(o.b,{to:"/",children:Object(n.jsx)("li",{children:"Home"})}),Object(n.jsx)(o.b,{to:"/convertor",children:Object(n.jsx)("li",{children:"Convertor"})})]})})})},ce=c(46),ne=c.n(ce),re=function(){return Object(n.jsx)(s.a,{store:X,children:Object(n.jsx)(o.a,{basename:"/",children:Object(n.jsxs)("div",{className:ne.a.container,children:[Object(n.jsx)(te,{}),Object(n.jsx)(i.a,{exact:!0,path:"/",component:U}),Object(n.jsx)(i.a,{exact:!0,path:"/convertor",component:A})]})})})};Object(a.render)(Object(n.jsx)(re,{}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.396688fc.chunk.js.map